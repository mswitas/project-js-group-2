{"mappings":"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","sources":["<anon>","src/js/shopping-list/shopping.js","src/js/shopping-list/SL-create.js","src/js/shopping-list/add-book-id-to-shopping-list.js","src/js/shopping-list/storage.js","src/js/shopping-list/get-shopping-list.js","src/js/fetch-from-api/fetch-book.js","src/js/shopping-list/remove-book-id-from-shopping-list.js"],"sourcesContent":["\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nfunction $ab346a2e0ac4a613$export$e14cd3ff6a26591a(book) {\n    const shoppingListUl = document.querySelector(\"#SL-list\");\n    shoppingListUl.insertAdjacentHTML(\"beforeend\", ` <li class=\"SL-book\">\n                        <img src=\"${book.book_image}\" alt=\"placeholder\" class=\"SL-book-cover\">\n                        <div class=\"SL-d1\">\n                            <h3 class=\"SL-book-title\">${book.title}</h3>\n                            <p class=\"SL-book-category\">${book.list_name}</p>\n                            <p class=\"SL-book-description\">${book.description}</p>\n                            <div class=\"SL-d2\">\n                                <p class=\"SL-book-author\">${book.author}</p>\n                                <div class=\"SL-d3\">\n                                    <a href=\"${book.amazon_product_url}\"><img src=\"/src/images/amazon.png\" alt=\"amazon link\"></a>\n                                    <a href=\"${book.buy_links[2].url}\"><img src=\"/src/images/book-orange.png\" alt=\"ksi\\u{119}garnia link\"></a>\n                                </div>\n                            </div>\n                        </div class=\"SL-d1\">\n                        <button value='${book._id}' type=\"button\" class=\"SL-remove\">\n                            <svg>\n                                <use href=\"/src/images/icons.svg#icon-trash-03\"></use>\n                            </svg>\n                        </button>\n                    </li>`);\n}\n\n\nconst $24a4b1341df43b31$export$a1544dad697b423d = (key, value)=>{\n    try {\n        const serializedState = JSON.stringify(value);\n        localStorage.setItem(key, serializedState);\n    } catch (error) {\n        console.error(\"Set state error: \", error.message);\n    }\n};\nconst $24a4b1341df43b31$export$11e63f7b0f3d9900 = (key)=>{\n    try {\n        const serializedState = localStorage.getItem(key);\n        return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n        console.error(\"Get state error: \", error.message);\n    }\n};\n\n\nconst $19bb6f9e260f934b$export$6a787fccf8ca962f = (bookId)=>{\n    const storedShoppingList = (0, $24a4b1341df43b31$export$11e63f7b0f3d9900)(\"shopping-list\");\n    if (storedShoppingList === undefined) {\n        const shoppingList = [\n            bookId\n        ];\n        (0, $24a4b1341df43b31$export$a1544dad697b423d)(\"shopping-list\", shoppingList);\n    } else if (!storedShoppingList.includes(bookId)) {\n        storedShoppingList.push(bookId);\n        (0, $24a4b1341df43b31$export$a1544dad697b423d)(\"shopping-list\", storedShoppingList);\n    }\n};\n\n\n\nconst $593f70f0a1432d1f$export$cbef9ff1082fadc7 = ()=>{\n    const shoppingList = (0, $24a4b1341df43b31$export$11e63f7b0f3d9900)(\"shopping-list\");\n    return shoppingList === undefined ? [] : shoppingList;\n};\n\n\n\nvar $hGVxz = parcelRequire(\"hGVxz\");\nconst $65d633ac803b9ee9$export$87e8d62db324b1d5 = async (bookId)=>{\n    const response = await (0, $hGVxz.default).get(`https://books-backend.p.goit.global/books/${bookId}`);\n    return response;\n};\n\n\n\n\nconst $2c4b5bc852e38caa$export$ef88b2f8c266d8f6 = (bookId)=>{\n    const shoppingList = (0, $593f70f0a1432d1f$export$cbef9ff1082fadc7)();\n    if (shoppingList.includes(bookId)) {\n        const bookIndex = shoppingList.indexOf(bookId);\n        shoppingList.splice(bookIndex, 1);\n        (0, $24a4b1341df43b31$export$a1544dad697b423d)(\"shopping-list\", shoppingList);\n    }\n};\n\n\nconst $5974297f1cef2166$var$pagesButtons = document.querySelector(\"#SL-pages\");\nconst $5974297f1cef2166$var$listRemove = document.querySelector(\"#SL-list\");\nconst $5974297f1cef2166$var$buy = document.querySelector(\"#SL-buy\");\nconst $5974297f1cef2166$var$add = document.querySelector(\"#SL-add\");\n// testowe dodawanie książek\n$5974297f1cef2166$var$add.addEventListener(\"click\", function() {\n    (0, $19bb6f9e260f934b$export$6a787fccf8ca962f)(\"643282b1e85766588626a0dc\");\n    (0, $19bb6f9e260f934b$export$6a787fccf8ca962f)(\"643282b1e85766588626a0b6\");\n    (0, $19bb6f9e260f934b$export$6a787fccf8ca962f)(\"643282b2e85766588626a112\");\n    (0, $19bb6f9e260f934b$export$6a787fccf8ca962f)(\"643282b1e85766588626a0b4\");\n    (0, $19bb6f9e260f934b$export$6a787fccf8ca962f)(\"643282b1e85766588626a07a\");\n    (0, $19bb6f9e260f934b$export$6a787fccf8ca962f)(\"643282b2e85766588626a14a\");\n    location.reload();\n});\n// testowe kasowanie książek\n$5974297f1cef2166$var$buy.addEventListener(\"click\", function() {\n    (0, $593f70f0a1432d1f$export$cbef9ff1082fadc7)().forEach((book)=>{\n        (0, $2c4b5bc852e38caa$export$ef88b2f8c266d8f6)(book);\n        location.reload();\n    });\n});\nconsole.log((0, $593f70f0a1432d1f$export$cbef9ff1082fadc7)());\nif ((0, $593f70f0a1432d1f$export$cbef9ff1082fadc7)().length > 0) document.getElementById(\"SL-placeholder\").style.display = \"none\";\nelse document.getElementById(\"SL-placeholder\").style.display = \"flex\";\nif ((0, $593f70f0a1432d1f$export$cbef9ff1082fadc7)().length > 4) $5974297f1cef2166$var$pagesButtons.style.display = \"flex\";\nelse $5974297f1cef2166$var$pagesButtons.style.display = \"none\";\n(0, $593f70f0a1432d1f$export$cbef9ff1082fadc7)().forEach((book)=>{\n    (0, $65d633ac803b9ee9$export$87e8d62db324b1d5)(book).then((response)=>{\n        console.log(response.data);\n        (0, $ab346a2e0ac4a613$export$e14cd3ff6a26591a)(response.data);\n    });\n});\n$5974297f1cef2166$var$listRemove.addEventListener(\"click\", function(event) {\n    if (event.target.classList.contains(\"SL-remove\")) {\n        console.log(event.target.value);\n        (0, $2c4b5bc852e38caa$export$ef88b2f8c266d8f6)(event.target.value);\n        location.reload();\n    }\n});\n\n\n//# sourceMappingURL=shopping.245cdc7c.js.map\n","import { createBook } from './SL-create';\nimport { addBookIdToShoppingList } from './add-book-id-to-shopping-list';\nimport { getShoppingList } from './get-shopping-list';\nimport { fetchBookById } from '../fetch-from-api/fetch-book';\nimport { removeBookIdFromShoppingList } from './remove-book-id-from-shopping-list';\n\nconst pagesButtons = document.querySelector('#SL-pages');\nconst listRemove = document.querySelector('#SL-list');\nconst buy = document.querySelector('#SL-buy');\nconst add = document.querySelector('#SL-add');\n\n// testowe dodawanie książek\nadd.addEventListener('click', function () {\n  addBookIdToShoppingList('643282b1e85766588626a0dc');\n  addBookIdToShoppingList('643282b1e85766588626a0b6');\n  addBookIdToShoppingList('643282b2e85766588626a112');\n  addBookIdToShoppingList('643282b1e85766588626a0b4');\n  addBookIdToShoppingList('643282b1e85766588626a07a');\n  addBookIdToShoppingList('643282b2e85766588626a14a');\n  location.reload();\n});\n\n// testowe kasowanie książek\nbuy.addEventListener('click', function () {\n  getShoppingList().forEach(book => {\n    removeBookIdFromShoppingList(book);\n    location.reload();\n  });\n});\n\nconsole.log(getShoppingList());\n\nif (getShoppingList().length > 0) {\n  document.getElementById('SL-placeholder').style.display = 'none';\n} else {\n  document.getElementById('SL-placeholder').style.display = 'flex';\n}\n\nif (getShoppingList().length > 4) {\n  pagesButtons.style.display = 'flex';\n} else {\n  pagesButtons.style.display = 'none';\n}\n\ngetShoppingList().forEach(book => {\n  fetchBookById(book).then(response => {\n    console.log(response.data);\n    createBook(response.data);\n  });\n});\n\nlistRemove.addEventListener('click', function (event) {\n  if (event.target.classList.contains('SL-remove')) {\n    console.log(event.target.value);\n    removeBookIdFromShoppingList(event.target.value);\n    location.reload();\n  }\n});\n","export function createBook(book) {\n  const shoppingListUl = document.querySelector('#SL-list');\n\n  shoppingListUl.insertAdjacentHTML(\n    'beforeend',\n    ` <li class=\"SL-book\">\n                        <img src=\"${book.book_image}\" alt=\"placeholder\" class=\"SL-book-cover\">\n                        <div class=\"SL-d1\">\n                            <h3 class=\"SL-book-title\">${book.title}</h3>\n                            <p class=\"SL-book-category\">${book.list_name}</p>\n                            <p class=\"SL-book-description\">${book.description}</p>\n                            <div class=\"SL-d2\">\n                                <p class=\"SL-book-author\">${book.author}</p>\n                                <div class=\"SL-d3\">\n                                    <a href=\"${book.amazon_product_url}\"><img src=\"/src/images/amazon.png\" alt=\"amazon link\"></a>\n                                    <a href=\"${book.buy_links[2].url}\"><img src=\"/src/images/book-orange.png\" alt=\"księgarnia link\"></a>\n                                </div>\n                            </div>\n                        </div class=\"SL-d1\">\n                        <button value='${book._id}' type=\"button\" class=\"SL-remove\">\n                            <svg>\n                                <use href=\"/src/images/icons.svg#icon-trash-03\"></use>\n                            </svg>\n                        </button>\n                    </li>`,\n  );\n}\n","import { load, save } from \"./storage\";\n\nexport const addBookIdToShoppingList = bookId => {\n    const storedShoppingList = load('shopping-list');\n    \n    if (storedShoppingList === undefined) {\n        const shoppingList = [bookId];\n        save('shopping-list', shoppingList);\n    } else if (!storedShoppingList.includes(bookId)) {\n            storedShoppingList.push(bookId);\n            save('shopping-list', storedShoppingList);\n    }\n}","export const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nexport const load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};","import { load } from \"./storage\"\n\nexport const getShoppingList = () => {\n    const shoppingList = load('shopping-list');\n    return shoppingList === undefined ? [] : shoppingList;\n}","import axios from \"axios\"\n\nexport const fetchBookById = async bookId => {\n    const response = await axios.get(`https://books-backend.p.goit.global/books/${bookId}`);\n    return response;\n}","import { getShoppingList } from \"./get-shopping-list\"\nimport { save } from \"./storage\";\n\nexport const removeBookIdFromShoppingList = bookId => {\n    const shoppingList = getShoppingList();\n    \n    if (shoppingList.includes(bookId)) {\n        const bookIndex = shoppingList.indexOf(bookId);\n        shoppingList.splice(bookIndex, 1);\n        save('shopping-list', shoppingList);\n    }\n\n}"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$24a4b1341df43b31$export$a1544dad697b423d","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","$24a4b1341df43b31$export$11e63f7b0f3d9900","getItem","undefined","parse","$19bb6f9e260f934b$export$6a787fccf8ca962f","bookId","storedShoppingList","includes","push","$593f70f0a1432d1f$export$cbef9ff1082fadc7","shoppingList","$hGVxz","$65d633ac803b9ee9$export$87e8d62db324b1d5","default","get","$2c4b5bc852e38caa$export$ef88b2f8c266d8f6","bookIndex","indexOf","splice","$5974297f1cef2166$var$pagesButtons","document","querySelector","$5974297f1cef2166$var$listRemove","$5974297f1cef2166$var$buy","$5974297f1cef2166$var$add","addEventListener","location","reload","forEach","book","log","length","getElementById","style","display","then","response","data","shoppingListUl","insertAdjacentHTML","book_image","title","list_name","description","author","amazon_product_url","buy_links","url","_id","event","target","classList","contains"],"version":3,"file":"shopping.245cdc7c.js.map"}